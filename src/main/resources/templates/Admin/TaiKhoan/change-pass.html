<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Đổi mật khẩu</title>
</head>
<div th:replace="Admin/header"></div>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
	<section class="content-header">
		<h2>ĐỔI MẬT KHẨU</h2>
	</section>

	<!-- PHAN BODY -->
	<section class="content">
		<div class="box box-primary">
			<div class="box-body">
				<form class="form-horizontal" action="change-pass" method="post" onsubmit="return validateChangePass();">

					<input type="hidden" name="Pass" id="Pass" th:value="${session.Pass}">


					<div class="form-group">
						<label class="control-label col-sm-2">Nhập mật khẩu: <span id="errorOldPass" style="color: red"></span></label>
						<input type="password" name="oldPass" id="oldPass" autofocus="autofocus">
					</div>

					<div class="form-group">
						<label class="control-label col-sm-2">Nhập mật khẩu mới: <span id="errorNewPass" style="color: red"></span></label>
						<input type="password" name="newPass" id="newPass">
					</div>

					<div class="form-group">
						<label class="control-label col-sm-2">Xác nhận mật khẩu: <span id="errorReNewPass" style="color: red"></span></label>
						<input type="password" name="reNewPass" id="reNewPass">
					</div>

					<div class="form-group" style="text-align: end">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" class="btn btn-primary">
								<i class="glyphicon glyphicon-floppy-disk"></i> Cập nhật
							</button>
							<a href="show-info" class="btn btn-warning"> Quay lại </a>
						</div>
					</div>
				</form>

				<script type="text/javascript">
					function validateChangePass() {
						var oldPass=document.getElementById('oldPass').value;
						var errorOldPass=document.getElementById('errorOldPass');

						var newPass=document.getElementById('newPass').value;
						var errorNewPass=document.getElementById('errorNewPass');

						var reNewPass=document.getElementById('reNewPass').value;
						var errorReNewPass=document.getElementById('errorReNewPass');

						var Pass=document.getElementById('Pass').value;

						if (oldPass==Pass) {
							errorOldPass.innerHTML = '';

						}else{
							errorOldPass.innerHTML = " * ";
							return false;
						}

						if (newPass=='' || newPass==null || newPass.length<6 || /\s/.test(newPass)) { // ktra space
							errorNewPass.innerHTML = " * ";
							return false;
						}else{
							errorNewPass.innerHTML = '';
						}

						if (reNewPass=='' || reNewPass==null || reNewPass.length<6 || /\s/.test(newPass) || reNewPass!=newPass) {
							errorReNewPass.innerHTML = " * ";
							return false;
						}else{
							errorReNewPass.innerHTML = '';
						}
						alert("Xác nhận đổi mật khẩu!");
						return true;
					}
				</script>

			</div>
		</div>
	</section>
</div>
<div th:replace="Admin/footer"></div>